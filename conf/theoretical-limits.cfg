-- vim:set ft=lua:

local L4 = require("L4");
local ld = L4.default_loader;

local spmm_channel = ld:new_channel();
 
ld:start({ caps = { spmm_allocator = spmm_channel:svr() },
           log = { "spmm", "yellow" } },
         "rom/spmm");

ld:start({ caps = { spm_dataspace = spmm_channel:create(L4.Proto.Dataspace,
                                    256 * 1024 * 1024, 7, 28):m("rws"); },
           log = { "client", "green" } },
         "rom/spmm-limits");
